<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>IO.Primitive.Infinite</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Primitive IO: simple bindings to Haskell types and functions</a>
<a id="170" class="Comment">-- manipulating potentially infinite objects</a>
<a id="215" class="Comment">------------------------------------------------------------------------</a>

<a id="289" class="Symbol">{-#</a> <a id="293" class="Keyword">OPTIONS</a> <a id="301" class="Pragma">--without-K</a> <a id="313" class="Symbol">#-}</a>

<a id="318" class="Keyword">module</a> <a id="325" href="IO.Primitive.Infinite.html" class="Module">IO.Primitive.Infinite</a> <a id="347" class="Keyword">where</a>

<a id="354" class="Keyword">open</a> <a id="359" class="Keyword">import</a> <a id="366" href="Codata.Musical.Costring.html" class="Module">Codata.Musical.Costring</a>
<a id="390" class="Keyword">open</a> <a id="395" class="Keyword">import</a> <a id="402" href="Agda.Builtin.String.html" class="Module">Agda.Builtin.String</a>
<a id="422" class="Keyword">open</a> <a id="427" class="Keyword">import</a> <a id="434" href="Agda.Builtin.Unit.html" class="Module">Agda.Builtin.Unit</a> <a id="452" class="Keyword">renaming</a> <a id="461" class="Symbol">(</a><a id="462" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a> <a id="464" class="Symbol">to</a> <a id="⊤"></a><a id="467" href="IO.Primitive.Infinite.html#467" class="Record">Unit</a><a id="471" class="Symbol">)</a>

<a id="474" class="Comment">------------------------------------------------------------------------</a>
<a id="547" class="Comment">-- The IO monad</a>

<a id="564" class="Keyword">open</a> <a id="569" class="Keyword">import</a> <a id="576" href="Agda.Builtin.IO.html" class="Module">Agda.Builtin.IO</a> <a id="592" class="Keyword">public</a> <a id="599" class="Keyword">using</a> <a id="605" class="Symbol">(</a><a id="606" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a><a id="608" class="Symbol">)</a>

<a id="611" class="Comment">------------------------------------------------------------------------</a>
<a id="684" class="Comment">-- Simple lazy IO</a>

<a id="703" class="Comment">-- Note that the functions below produce commands which, when</a>
<a id="765" class="Comment">-- executed, may raise exceptions.</a>

<a id="801" class="Comment">-- Note also that the semantics of these functions depends on the</a>
<a id="867" class="Comment">-- version of the Haskell base library. If the version is 4.2.0.0 (or</a>
<a id="937" class="Comment">-- later?), then the functions use the character encoding specified by</a>
<a id="1008" class="Comment">-- the locale. For older versions of the library (going back to at</a>
<a id="1075" class="Comment">-- least version 3) the functions use ISO-8859-1.</a>


<a id="1127" class="Keyword">postulate</a>
  <a id="getContents"></a><a id="1139" href="IO.Primitive.Infinite.html#1139" class="Postulate">getContents</a> <a id="1151" class="Symbol">:</a> <a id="1153" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="1156" href="Codata.Musical.Costring.html#488" class="Function">Costring</a>
  <a id="readFile"></a><a id="1167" href="IO.Primitive.Infinite.html#1167" class="Postulate">readFile</a>    <a id="1179" class="Symbol">:</a> <a id="1181" href="Agda.Builtin.String.html#274" class="Postulate">String</a> <a id="1188" class="Symbol">→</a> <a id="1190" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="1193" href="Codata.Musical.Costring.html#488" class="Function">Costring</a>
  <a id="writeFile"></a><a id="1204" href="IO.Primitive.Infinite.html#1204" class="Postulate">writeFile</a>   <a id="1216" class="Symbol">:</a> <a id="1218" href="Agda.Builtin.String.html#274" class="Postulate">String</a> <a id="1225" class="Symbol">→</a> <a id="1227" href="Codata.Musical.Costring.html#488" class="Function">Costring</a> <a id="1236" class="Symbol">→</a> <a id="1238" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="1241" href="IO.Primitive.Infinite.html#467" class="Record">Unit</a>
  <a id="appendFile"></a><a id="1248" href="IO.Primitive.Infinite.html#1248" class="Postulate">appendFile</a>  <a id="1260" class="Symbol">:</a> <a id="1262" href="Agda.Builtin.String.html#274" class="Postulate">String</a> <a id="1269" class="Symbol">→</a> <a id="1271" href="Codata.Musical.Costring.html#488" class="Function">Costring</a> <a id="1280" class="Symbol">→</a> <a id="1282" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="1285" href="IO.Primitive.Infinite.html#467" class="Record">Unit</a>
  <a id="putStr"></a><a id="1292" href="IO.Primitive.Infinite.html#1292" class="Postulate">putStr</a>      <a id="1304" class="Symbol">:</a> <a id="1306" href="Codata.Musical.Costring.html#488" class="Function">Costring</a> <a id="1315" class="Symbol">→</a> <a id="1317" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="1320" href="IO.Primitive.Infinite.html#467" class="Record">Unit</a>
  <a id="putStrLn"></a><a id="1327" href="IO.Primitive.Infinite.html#1327" class="Postulate">putStrLn</a>    <a id="1339" class="Symbol">:</a> <a id="1341" href="Codata.Musical.Costring.html#488" class="Function">Costring</a> <a id="1350" class="Symbol">→</a> <a id="1352" href="Agda.Builtin.IO.html#138" class="Postulate">IO</a> <a id="1355" href="IO.Primitive.Infinite.html#467" class="Record">Unit</a>

<a id="1361" class="Symbol">{-#</a> <a id="1365" class="Keyword">FOREIGN</a> <a id="1373" class="Pragma">GHC</a> <a id="1377" class="Pragma">import</a> <a id="1384" class="Pragma">qualified</a> <a id="1394" class="Pragma">Data.Text</a>    <a id="1407" class="Symbol">#-}</a>

<a id="1412" class="Symbol">{-#</a> <a id="1416" class="Keyword">FOREIGN</a> <a id="1424" class="Pragma">GHC</a>

  <a id="1431" class="Pragma">fromColist</a> <a id="1442" class="Pragma">::</a> <a id="1445" class="Pragma">MAlonzo.Code.Codata.Musical.Colist.Base.AgdaColist</a> <a id="1496" class="Pragma">a</a> <a id="1498" class="Pragma">-&gt;</a> <a id="1501" class="Pragma">[a]</a>
  <a id="1507" class="Pragma">fromColist</a> <a id="1518" class="Pragma">MAlonzo.Code.Codata.Musical.Colist.Base.Nil</a>         <a id="1570" class="Pragma">=</a> <a id="1572" class="Pragma">[]</a>
  <a id="1577" class="Pragma">fromColist</a> <a id="1588" class="Pragma">(MAlonzo.Code.Codata.Musical.Colist.Base.Cons</a> <a id="1634" class="Pragma">x</a> <a id="1636" class="Pragma">xs)</a> <a id="1640" class="Pragma">=</a>
    <a id="1646" class="Pragma">x</a> <a id="1648" class="Pragma">:</a> <a id="1650" class="Pragma">fromColist</a> <a id="1661" class="Pragma">(MAlonzo.RTE.flat</a> <a id="1679" class="Pragma">xs)</a>

  <a id="1686" class="Pragma">toColist</a> <a id="1695" class="Pragma">::</a> <a id="1698" class="Pragma">[a]</a> <a id="1702" class="Pragma">-&gt;</a> <a id="1705" class="Pragma">MAlonzo.Code.Codata.Musical.Colist.Base.AgdaColist</a> <a id="1756" class="Pragma">a</a>
  <a id="1760" class="Pragma">toColist</a> <a id="1769" class="Pragma">[]</a>       <a id="1778" class="Pragma">=</a> <a id="1780" class="Pragma">MAlonzo.Code.Codata.Musical.Colist.Base.Nil</a>
  <a id="1826" class="Pragma">toColist</a> <a id="1835" class="Pragma">(x</a> <a id="1838" class="Pragma">:</a> <a id="1840" class="Pragma">xs)</a> <a id="1844" class="Pragma">=</a>
    <a id="1850" class="Pragma">MAlonzo.Code.Codata.Musical.Colist.Base.Cons</a> <a id="1895" class="Pragma">x</a> <a id="1897" class="Pragma">(MAlonzo.RTE.Sharp</a> <a id="1916" class="Pragma">(toColist</a> <a id="1926" class="Pragma">xs))</a>
<a id="1931" class="Symbol">#-}</a>

<a id="1936" class="Symbol">{-#</a> <a id="1940" class="Keyword">COMPILE</a> <a id="1948" class="Keyword">GHC</a> <a id="1952" href="IO.Primitive.Infinite.html#1139" class="Postulate">getContents</a>    <a id="1967" class="Pragma">=</a> <a id="1969" class="Pragma">fmap</a> <a id="1974" class="Pragma">toColist</a> <a id="1983" class="Pragma">getContents</a>                          <a id="2020" class="Symbol">#-}</a>
<a id="2024" class="Symbol">{-#</a> <a id="2028" class="Keyword">COMPILE</a> <a id="2036" class="Keyword">GHC</a> <a id="2040" href="IO.Primitive.Infinite.html#1167" class="Postulate">readFile</a>       <a id="2055" class="Pragma">=</a> <a id="2057" class="Pragma">fmap</a> <a id="2062" class="Pragma">toColist</a> <a id="2071" class="Pragma">.</a> <a id="2073" class="Pragma">readFile</a> <a id="2082" class="Pragma">.</a> <a id="2084" class="Pragma">Data.Text.unpack</a>        <a id="2108" class="Symbol">#-}</a>
<a id="2112" class="Symbol">{-#</a> <a id="2116" class="Keyword">COMPILE</a> <a id="2124" class="Keyword">GHC</a> <a id="2128" href="IO.Primitive.Infinite.html#1204" class="Postulate">writeFile</a>      <a id="2143" class="Pragma">=</a> <a id="2145" class="Pragma">\x</a> <a id="2148" class="Pragma">-&gt;</a> <a id="2151" class="Pragma">writeFile</a> <a id="2161" class="Pragma">(Data.Text.unpack</a> <a id="2179" class="Pragma">x)</a> <a id="2182" class="Pragma">.</a> <a id="2184" class="Pragma">fromColist</a>  <a id="2196" class="Symbol">#-}</a>
<a id="2200" class="Symbol">{-#</a> <a id="2204" class="Keyword">COMPILE</a> <a id="2212" class="Keyword">GHC</a> <a id="2216" href="IO.Primitive.Infinite.html#1248" class="Postulate">appendFile</a>     <a id="2231" class="Pragma">=</a> <a id="2233" class="Pragma">\x</a> <a id="2236" class="Pragma">-&gt;</a> <a id="2239" class="Pragma">appendFile</a> <a id="2250" class="Pragma">(Data.Text.unpack</a> <a id="2268" class="Pragma">x)</a> <a id="2271" class="Pragma">.</a> <a id="2273" class="Pragma">fromColist</a> <a id="2284" class="Symbol">#-}</a>
<a id="2288" class="Symbol">{-#</a> <a id="2292" class="Keyword">COMPILE</a> <a id="2300" class="Keyword">GHC</a> <a id="2304" href="IO.Primitive.Infinite.html#1292" class="Postulate">putStr</a>         <a id="2319" class="Pragma">=</a> <a id="2321" class="Pragma">putStr</a> <a id="2328" class="Pragma">.</a> <a id="2330" class="Pragma">fromColist</a>                                <a id="2372" class="Symbol">#-}</a>
<a id="2376" class="Symbol">{-#</a> <a id="2380" class="Keyword">COMPILE</a> <a id="2388" class="Keyword">GHC</a> <a id="2392" href="IO.Primitive.Infinite.html#1327" class="Postulate">putStrLn</a>       <a id="2407" class="Pragma">=</a> <a id="2409" class="Pragma">putStrLn</a> <a id="2418" class="Pragma">.</a> <a id="2420" class="Pragma">fromColist</a>                              <a id="2460" class="Symbol">#-}</a>
<a id="2464" class="Symbol">{-#</a> <a id="2468" class="Keyword">COMPILE</a> <a id="2476" class="Keyword">UHC</a> <a id="2480" href="IO.Primitive.Infinite.html#1139" class="Postulate">getContents</a>    <a id="2495" class="Pragma">=</a> <a id="2497" class="Pragma">UHC.Agda.Builtins.primGetContents</a>     <a id="2535" class="Symbol">#-}</a>
<a id="2539" class="Symbol">{-#</a> <a id="2543" class="Keyword">COMPILE</a> <a id="2551" class="Keyword">UHC</a> <a id="2555" href="IO.Primitive.Infinite.html#1167" class="Postulate">readFile</a>       <a id="2570" class="Pragma">=</a> <a id="2572" class="Pragma">UHC.Agda.Builtins.primReadFile</a>        <a id="2610" class="Symbol">#-}</a>
<a id="2614" class="Symbol">{-#</a> <a id="2618" class="Keyword">COMPILE</a> <a id="2626" class="Keyword">UHC</a> <a id="2630" href="IO.Primitive.Infinite.html#1204" class="Postulate">writeFile</a>      <a id="2645" class="Pragma">=</a> <a id="2647" class="Pragma">UHC.Agda.Builtins.primWriteFile</a>       <a id="2685" class="Symbol">#-}</a>
<a id="2689" class="Symbol">{-#</a> <a id="2693" class="Keyword">COMPILE</a> <a id="2701" class="Keyword">UHC</a> <a id="2705" href="IO.Primitive.Infinite.html#1248" class="Postulate">appendFile</a>     <a id="2720" class="Pragma">=</a> <a id="2722" class="Pragma">UHC.Agda.Builtins.primAppendFile</a>      <a id="2760" class="Symbol">#-}</a>
<a id="2764" class="Symbol">{-#</a> <a id="2768" class="Keyword">COMPILE</a> <a id="2776" class="Keyword">UHC</a> <a id="2780" href="IO.Primitive.Infinite.html#1292" class="Postulate">putStr</a>         <a id="2795" class="Pragma">=</a> <a id="2797" class="Pragma">UHC.Agda.Builtins.primPutStr</a>          <a id="2835" class="Symbol">#-}</a>
<a id="2839" class="Symbol">{-#</a> <a id="2843" class="Keyword">COMPILE</a> <a id="2851" class="Keyword">UHC</a> <a id="2855" href="IO.Primitive.Infinite.html#1327" class="Postulate">putStrLn</a>       <a id="2870" class="Pragma">=</a> <a id="2872" class="Pragma">UHC.Agda.Builtins.primPutStrLn</a>        <a id="2910" class="Symbol">#-}</a>
</pre></body></html>