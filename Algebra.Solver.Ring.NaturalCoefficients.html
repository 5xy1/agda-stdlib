<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Algebra.Solver.Ring.NaturalCoefficients</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Instantiates the ring solver, using the natural numbers as the</a>
<a id="172" class="Comment">-- coefficient &quot;ring&quot;</a>
<a id="194" class="Comment">------------------------------------------------------------------------</a>

<a id="268" class="Symbol">{-#</a> <a id="272" class="Keyword">OPTIONS</a> <a id="280" class="Pragma">--without-K</a> <a id="292" class="Pragma">--safe</a> <a id="299" class="Symbol">#-}</a>

<a id="304" class="Keyword">open</a> <a id="309" class="Keyword">import</a> <a id="316" href="Algebra.html" class="Module">Algebra</a>
<a id="324" class="Keyword">import</a> <a id="331" href="Algebra.Properties.Semiring.Multiplication.html" class="Module">Algebra.Properties.Semiring.Multiplication</a> <a id="374" class="Symbol">as</a> <a id="377" class="Module">SemiringMultiplication</a>
<a id="400" class="Keyword">open</a> <a id="405" class="Keyword">import</a> <a id="412" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="428" class="Keyword">using</a> <a id="434" class="Symbol">(</a><a id="435" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a><a id="440" class="Symbol">;</a> <a id="442" href="Data.Maybe.Base.html#892" class="InductiveConstructor">just</a><a id="446" class="Symbol">;</a> <a id="448" href="Data.Maybe.Base.html#872" class="InductiveConstructor">nothing</a><a id="455" class="Symbol">;</a> <a id="457" href="Data.Maybe.Base.html#2039" class="Function">map</a><a id="460" class="Symbol">)</a>
<a id="462" class="Keyword">open</a> <a id="467" class="Keyword">import</a> <a id="474" href="Algebra.Solver.Ring.AlmostCommutativeRing.html" class="Module">Algebra.Solver.Ring.AlmostCommutativeRing</a>
<a id="516" class="Keyword">open</a> <a id="521" class="Keyword">import</a> <a id="528" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="542" class="Symbol">as</a> <a id="545" class="Module">ℕ</a>
<a id="547" class="Keyword">open</a> <a id="552" class="Keyword">import</a> <a id="559" href="Data.Product.html" class="Module">Data.Product</a> <a id="572" class="Keyword">using</a> <a id="578" class="Symbol">(</a><a id="579" class="Keyword">module</a> <a id="586" href="Data.Product.html#715" class="Module">Σ</a><a id="587" class="Symbol">)</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="Function.Base.html" class="Module">Function.Base</a> <a id="615" class="Keyword">using</a> <a id="621" class="Symbol">(</a><a id="622" href="Function.Base.html#615" class="Function">id</a><a id="624" class="Symbol">)</a>
<a id="626" class="Keyword">open</a> <a id="631" class="Keyword">import</a> <a id="638" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="676" class="Keyword">using</a> <a id="682" class="Symbol">(</a><a id="683" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="686" class="Symbol">)</a>

<a id="689" class="Keyword">module</a> <a id="696" href="Algebra.Solver.Ring.NaturalCoefficients.html" class="Module">Algebra.Solver.Ring.NaturalCoefficients</a>
  <a id="738" class="Symbol">{</a><a id="739" href="Algebra.Solver.Ring.NaturalCoefficients.html#739" class="Bound">r₁</a> <a id="742" href="Algebra.Solver.Ring.NaturalCoefficients.html#742" class="Bound">r₂</a><a id="744" class="Symbol">}</a> <a id="746" class="Symbol">(</a><a id="747" href="Algebra.Solver.Ring.NaturalCoefficients.html#747" class="Bound">R</a> <a id="749" class="Symbol">:</a> <a id="751" href="Algebra.Bundles.html#17351" class="Record">CommutativeSemiring</a> <a id="771" href="Algebra.Solver.Ring.NaturalCoefficients.html#739" class="Bound">r₁</a> <a id="774" href="Algebra.Solver.Ring.NaturalCoefficients.html#742" class="Bound">r₂</a><a id="776" class="Symbol">)</a>
  <a id="780" class="Symbol">(</a><a id="781" class="Keyword">open</a> <a id="786" href="Algebra.Bundles.html#17351" class="Module">CommutativeSemiring</a> <a id="806" href="Algebra.Solver.Ring.NaturalCoefficients.html#747" class="Bound">R</a><a id="807" class="Symbol">)</a>
  <a id="811" class="Symbol">(</a><a id="812" class="Keyword">open</a> <a id="817" href="Algebra.Properties.Semiring.Multiplication.html" class="Module">SemiringMultiplication</a> <a id="840" href="Algebra.Bundles.html#17812" class="Function">semiring</a> <a id="849" class="Keyword">using</a> <a id="855" class="Symbol">()</a> <a id="858" class="Keyword">renaming</a> <a id="867" class="Symbol">(</a>_×_ <a id="872" class="Symbol">to</a> _×ᵤ_<a id="879" class="Symbol">))</a>
  <a id="884" class="Symbol">(</a><a id="885" href="Algebra.Solver.Ring.NaturalCoefficients.html#885" class="Bound">dec</a> <a id="889" class="Symbol">:</a> <a id="891" class="Symbol">∀</a> <a id="893" href="Algebra.Solver.Ring.NaturalCoefficients.html#893" class="Bound">m</a> <a id="895" href="Algebra.Solver.Ring.NaturalCoefficients.html#895" class="Bound">n</a> <a id="897" class="Symbol">→</a> <a id="899" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="905" class="Symbol">(</a><a id="906" href="Algebra.Solver.Ring.NaturalCoefficients.html#893" class="Bound">m</a> <a id="908" href="Algebra.Solver.Ring.NaturalCoefficients.html#875" class="Function Operator">×ᵤ</a> <a id="911" href="Algebra.Bundles.html#17650" class="Field">1#</a> <a id="914" href="Algebra.Bundles.html#17492" class="Field Operator">≈</a> <a id="916" href="Algebra.Solver.Ring.NaturalCoefficients.html#895" class="Bound">n</a> <a id="918" href="Algebra.Solver.Ring.NaturalCoefficients.html#875" class="Function Operator">×ᵤ</a> <a id="921" href="Algebra.Bundles.html#17650" class="Field">1#</a><a id="923" class="Symbol">))</a> <a id="926" class="Keyword">where</a>

<a id="933" class="Keyword">open</a> <a id="938" class="Keyword">import</a> <a id="945" href="Algebra.Properties.Semiring.Multiplication.TCOptimised.html" class="Module">Algebra.Properties.Semiring.Multiplication.TCOptimised</a> <a id="1000" href="Algebra.Bundles.html#17812" class="Function">semiring</a>

<a id="1010" class="Keyword">open</a> <a id="1015" class="Keyword">import</a> <a id="1022" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1055" href="Algebra.Structures.html#1285" class="Function">setoid</a>

<a id="1063" class="Keyword">private</a>

  <a id="1074" class="Comment">-- The coefficient &quot;ring&quot;.</a>

  <a id="ℕ-ring"></a><a id="1104" href="Algebra.Solver.Ring.NaturalCoefficients.html#1104" class="Function">ℕ-ring</a> <a id="1111" class="Symbol">:</a> <a id="1113" href="Algebra.Bundles.html#20195" class="Record">RawRing</a> <a id="1121" class="Symbol">_</a> <a id="1123" class="Symbol">_</a>
  <a id="1127" href="Algebra.Solver.Ring.NaturalCoefficients.html#1104" class="Function">ℕ-ring</a> <a id="1134" class="Symbol">=</a> <a id="1136" class="Keyword">record</a>
    <a id="1147" class="Symbol">{</a> <a id="1149" href="Algebra.Bundles.html#20304" class="Field">Carrier</a> <a id="1157" class="Symbol">=</a> <a id="1159" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
    <a id="1165" class="Symbol">;</a> <a id="1167" href="Algebra.Bundles.html#20324" class="Field Operator">_≈_</a>     <a id="1175" class="Symbol">=</a> <a id="1177" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a>
    <a id="1185" class="Symbol">;</a> <a id="1187" href="Algebra.Bundles.html#20352" class="Field Operator">_+_</a>     <a id="1195" class="Symbol">=</a> <a id="1197" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">ℕ._+_</a>
    <a id="1207" class="Symbol">;</a> <a id="1209" href="Algebra.Bundles.html#20378" class="Field Operator">_*_</a>     <a id="1217" class="Symbol">=</a> <a id="1219" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">ℕ._*_</a>
    <a id="1229" class="Symbol">;</a> <a id="1231" href="Algebra.Bundles.html#20404" class="Field Operator">-_</a>      <a id="1239" class="Symbol">=</a> <a id="1241" href="Function.Base.html#615" class="Function">id</a>
    <a id="1248" class="Symbol">;</a> <a id="1250" href="Algebra.Bundles.html#20430" class="Field">0#</a>      <a id="1258" class="Symbol">=</a> <a id="1260" class="Number">0</a>
    <a id="1266" class="Symbol">;</a> <a id="1268" href="Algebra.Bundles.html#20452" class="Field">1#</a>      <a id="1276" class="Symbol">=</a> <a id="1278" class="Number">1</a>
    <a id="1284" class="Symbol">}</a>

  <a id="1289" class="Comment">-- There is a homomorphism from ℕ to R.</a>
  <a id="1331" class="Comment">--</a>
  <a id="1336" class="Comment">-- Note that the optimised _×_ is used rather than unoptimised _×ᵤ_.</a>
  <a id="1407" class="Comment">-- If _×ᵤ_ were used, then Function.Related.TypeIsomorphisms.test would fail</a>
  <a id="1486" class="Comment">-- to type-check.</a>

  <a id="homomorphism"></a><a id="1507" href="Algebra.Solver.Ring.NaturalCoefficients.html#1507" class="Function">homomorphism</a> <a id="1520" class="Symbol">:</a> <a id="1522" href="Algebra.Solver.Ring.NaturalCoefficients.html#1104" class="Function">ℕ-ring</a> <a id="1529" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2318" class="Record Operator">-Raw-AlmostCommutative⟶</a> <a id="1553" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#4267" class="Function">fromCommutativeSemiring</a> <a id="1577" href="Algebra.Solver.Ring.NaturalCoefficients.html#747" class="Bound">R</a>
  <a id="1581" href="Algebra.Solver.Ring.NaturalCoefficients.html#1507" class="Function">homomorphism</a> <a id="1594" class="Symbol">=</a> <a id="1596" class="Keyword">record</a>
    <a id="1607" class="Symbol">{</a> <a id="1609" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2592" class="Field Operator">⟦_⟧</a>    <a id="1616" class="Symbol">=</a> <a id="1618" class="Symbol">λ</a> <a id="1620" href="Algebra.Solver.Ring.NaturalCoefficients.html#1620" class="Bound">n</a> <a id="1622" class="Symbol">→</a> <a id="1624" href="Algebra.Solver.Ring.NaturalCoefficients.html#1620" class="Bound">n</a> <a id="1626" href="Algebra.Properties.Monoid.Multiplication.TCOptimised.html#1143" class="Function Operator">×</a> <a id="1628" href="Algebra.Bundles.html#17650" class="Field">1#</a>
    <a id="1635" class="Symbol">;</a> <a id="1637" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2614" class="Field">+-homo</a> <a id="1644" class="Symbol">=</a> <a id="1646" href="Algebra.Properties.Monoid.Multiplication.TCOptimised.html#1680" class="Function">×-homo-+</a> <a id="1655" href="Algebra.Bundles.html#17650" class="Field">1#</a>
    <a id="1662" class="Symbol">;</a> <a id="1664" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2656" class="Field">*-homo</a> <a id="1671" class="Symbol">=</a> <a id="1673" href="Algebra.Properties.Semiring.Multiplication.TCOptimised.html#984" class="Function">×1-homo-*</a>
    <a id="1687" class="Symbol">;</a> <a id="1689" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2698" class="Field">-‿homo</a> <a id="1696" class="Symbol">=</a> <a id="1698" class="Symbol">λ</a> <a id="1700" href="Algebra.Solver.Ring.NaturalCoefficients.html#1700" class="Bound">_</a> <a id="1702" class="Symbol">→</a> <a id="1704" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
    <a id="1713" class="Symbol">;</a> <a id="1715" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2739" class="Field">0-homo</a> <a id="1722" class="Symbol">=</a> <a id="1724" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
    <a id="1733" class="Symbol">;</a> <a id="1735" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2780" class="Field">1-homo</a> <a id="1742" class="Symbol">=</a> <a id="1744" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
    <a id="1753" class="Symbol">}</a>

  <a id="1758" class="Comment">-- Equality of certain expressions can be decided.</a>

  <a id="dec′"></a><a id="1812" href="Algebra.Solver.Ring.NaturalCoefficients.html#1812" class="Function">dec′</a> <a id="1817" class="Symbol">:</a> <a id="1819" class="Symbol">∀</a> <a id="1821" href="Algebra.Solver.Ring.NaturalCoefficients.html#1821" class="Bound">m</a> <a id="1823" href="Algebra.Solver.Ring.NaturalCoefficients.html#1823" class="Bound">n</a> <a id="1825" class="Symbol">→</a> <a id="1827" href="Data.Maybe.Base.html#838" class="Datatype">Maybe</a> <a id="1833" class="Symbol">(</a><a id="1834" href="Algebra.Solver.Ring.NaturalCoefficients.html#1821" class="Bound">m</a> <a id="1836" href="Algebra.Properties.Monoid.Multiplication.TCOptimised.html#1143" class="Function Operator">×</a> <a id="1838" href="Algebra.Bundles.html#17650" class="Field">1#</a> <a id="1841" href="Algebra.Bundles.html#17492" class="Field Operator">≈</a> <a id="1843" href="Algebra.Solver.Ring.NaturalCoefficients.html#1823" class="Bound">n</a> <a id="1845" href="Algebra.Properties.Monoid.Multiplication.TCOptimised.html#1143" class="Function Operator">×</a> <a id="1847" href="Algebra.Bundles.html#17650" class="Field">1#</a><a id="1849" class="Symbol">)</a>
  <a id="1853" href="Algebra.Solver.Ring.NaturalCoefficients.html#1812" class="Function">dec′</a> <a id="1858" href="Algebra.Solver.Ring.NaturalCoefficients.html#1858" class="Bound">m</a> <a id="1860" href="Algebra.Solver.Ring.NaturalCoefficients.html#1860" class="Bound">n</a> <a id="1862" class="Symbol">=</a> <a id="1864" href="Data.Maybe.Base.html#2039" class="Function">map</a> <a id="1868" href="Algebra.Solver.Ring.NaturalCoefficients.html#1895" class="Function">to</a> <a id="1871" class="Symbol">(</a><a id="1872" href="Algebra.Solver.Ring.NaturalCoefficients.html#885" class="Bound">dec</a> <a id="1876" href="Algebra.Solver.Ring.NaturalCoefficients.html#1858" class="Bound">m</a> <a id="1878" href="Algebra.Solver.Ring.NaturalCoefficients.html#1860" class="Bound">n</a><a id="1879" class="Symbol">)</a>
    <a id="1885" class="Keyword">where</a>
    <a id="1895" href="Algebra.Solver.Ring.NaturalCoefficients.html#1895" class="Function">to</a> <a id="1898" class="Symbol">:</a> <a id="1900" href="Algebra.Solver.Ring.NaturalCoefficients.html#1858" class="Bound">m</a> <a id="1902" href="Algebra.Solver.Ring.NaturalCoefficients.html#875" class="Function Operator">×ᵤ</a> <a id="1905" href="Algebra.Bundles.html#17650" class="Field">1#</a> <a id="1908" href="Algebra.Bundles.html#17492" class="Field Operator">≈</a> <a id="1910" href="Algebra.Solver.Ring.NaturalCoefficients.html#1860" class="Bound">n</a> <a id="1912" href="Algebra.Solver.Ring.NaturalCoefficients.html#875" class="Function Operator">×ᵤ</a> <a id="1915" href="Algebra.Bundles.html#17650" class="Field">1#</a> <a id="1918" class="Symbol">→</a> <a id="1920" href="Algebra.Solver.Ring.NaturalCoefficients.html#1858" class="Bound">m</a> <a id="1922" href="Algebra.Properties.Monoid.Multiplication.TCOptimised.html#1143" class="Function Operator">×</a> <a id="1924" href="Algebra.Bundles.html#17650" class="Field">1#</a> <a id="1927" href="Algebra.Bundles.html#17492" class="Field Operator">≈</a> <a id="1929" href="Algebra.Solver.Ring.NaturalCoefficients.html#1860" class="Bound">n</a> <a id="1931" href="Algebra.Properties.Monoid.Multiplication.TCOptimised.html#1143" class="Function Operator">×</a> <a id="1933" href="Algebra.Bundles.html#17650" class="Field">1#</a>
    <a id="1940" href="Algebra.Solver.Ring.NaturalCoefficients.html#1895" class="Function">to</a> <a id="1943" href="Algebra.Solver.Ring.NaturalCoefficients.html#1943" class="Bound">m≈n</a> <a id="1947" class="Symbol">=</a> <a id="1949" href="Relation.Binary.Reasoning.Base.Partial.html#1660" class="Function Operator">begin</a>
      <a id="1961" href="Algebra.Solver.Ring.NaturalCoefficients.html#1858" class="Bound">m</a> <a id="1963" href="Algebra.Properties.Monoid.Multiplication.TCOptimised.html#1143" class="Function Operator">×</a>  <a id="1966" href="Algebra.Bundles.html#17650" class="Field">1#</a>  <a id="1970" href="Relation.Binary.Reasoning.PartialSetoid.html#898" class="Function">≈˘⟨</a> <a id="1974" href="Algebra.Properties.Monoid.Multiplication.TCOptimised.html#1472" class="Function">×ᵤ≈×</a> <a id="1979" href="Algebra.Solver.Ring.NaturalCoefficients.html#1858" class="Bound">m</a> <a id="1981" href="Algebra.Bundles.html#17650" class="Field">1#</a> <a id="1984" href="Relation.Binary.Reasoning.PartialSetoid.html#898" class="Function">⟩</a>
      <a id="1992" href="Algebra.Solver.Ring.NaturalCoefficients.html#1858" class="Bound">m</a> <a id="1994" href="Algebra.Solver.Ring.NaturalCoefficients.html#875" class="Function Operator">×ᵤ</a> <a id="1997" href="Algebra.Bundles.html#17650" class="Field">1#</a>  <a id="2001" href="Relation.Binary.Reasoning.PartialSetoid.html#797" class="Function">≈⟨</a>  <a id="2005" href="Algebra.Solver.Ring.NaturalCoefficients.html#1943" class="Bound">m≈n</a> <a id="2009" href="Relation.Binary.Reasoning.PartialSetoid.html#797" class="Function">⟩</a>
      <a id="2017" href="Algebra.Solver.Ring.NaturalCoefficients.html#1860" class="Bound">n</a> <a id="2019" href="Algebra.Solver.Ring.NaturalCoefficients.html#875" class="Function Operator">×ᵤ</a> <a id="2022" href="Algebra.Bundles.html#17650" class="Field">1#</a>  <a id="2026" href="Relation.Binary.Reasoning.PartialSetoid.html#797" class="Function">≈⟨</a>  <a id="2030" href="Algebra.Properties.Monoid.Multiplication.TCOptimised.html#1472" class="Function">×ᵤ≈×</a> <a id="2035" href="Algebra.Solver.Ring.NaturalCoefficients.html#1860" class="Bound">n</a> <a id="2037" href="Algebra.Bundles.html#17650" class="Field">1#</a> <a id="2040" href="Relation.Binary.Reasoning.PartialSetoid.html#797" class="Function">⟩</a>
      <a id="2048" href="Algebra.Solver.Ring.NaturalCoefficients.html#1860" class="Bound">n</a> <a id="2050" href="Algebra.Properties.Monoid.Multiplication.TCOptimised.html#1143" class="Function Operator">×</a>  <a id="2053" href="Algebra.Bundles.html#17650" class="Field">1#</a>  <a id="2057" href="Relation.Binary.Reasoning.Base.Single.html#767" class="Function Operator">∎</a>

<a id="2060" class="Comment">-- The instantiation.</a>

<a id="2083" class="Keyword">open</a> <a id="2088" class="Keyword">import</a> <a id="2095" href="Algebra.Solver.Ring.html" class="Module">Algebra.Solver.Ring</a> <a id="2115" class="Symbol">_</a> <a id="2117" class="Symbol">_</a> <a id="2119" href="Algebra.Solver.Ring.NaturalCoefficients.html#1507" class="Function">homomorphism</a> <a id="2132" href="Algebra.Solver.Ring.NaturalCoefficients.html#1812" class="Function">dec′</a> <a id="2137" class="Keyword">public</a>
</pre></body></html>