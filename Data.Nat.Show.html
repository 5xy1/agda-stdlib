<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Nat.Show</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Showing natural numbers</a>
<a id="133" class="Comment">------------------------------------------------------------------------</a>

<a id="207" class="Symbol">{-#</a> <a id="211" class="Keyword">OPTIONS</a> <a id="219" class="Pragma">--without-K</a> <a id="231" class="Pragma">--safe</a> <a id="238" class="Symbol">#-}</a>

<a id="243" class="Keyword">module</a> <a id="250" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a> <a id="264" class="Keyword">where</a>

<a id="271" class="Keyword">open</a> <a id="276" class="Keyword">import</a> <a id="283" href="Data.Char.html" class="Module">Data.Char</a> <a id="293" class="Symbol">as</a> <a id="296" class="Module">Char</a> <a id="301" class="Keyword">using</a> <a id="307" class="Symbol">(</a><a id="308" href="Agda.Builtin.Char.html#227" class="Postulate">Char</a><a id="312" class="Symbol">)</a>
<a id="314" class="Keyword">open</a> <a id="319" class="Keyword">import</a> <a id="326" href="Data.Digit.html" class="Module">Data.Digit</a> <a id="337" class="Keyword">using</a> <a id="343" class="Symbol">(</a><a id="344" href="Data.Digit.html#3860" class="Function">showDigit</a><a id="353" class="Symbol">;</a> <a id="355" href="Data.Digit.html#2454" class="Function">toDigits</a><a id="363" class="Symbol">;</a> <a id="365" href="Data.Digit.html#1314" class="Function">toNatDigits</a><a id="376" class="Symbol">)</a>
<a id="378" class="Keyword">open</a> <a id="383" class="Keyword">import</a> <a id="390" href="Function.Base.html" class="Module">Function.Base</a> <a id="404" class="Keyword">using</a> <a id="410" class="Symbol">(</a><a id="411" href="Function.Base.html#1031" class="Function Operator">_∘_</a><a id="414" class="Symbol">;</a> <a id="416" href="Function.Base.html#1919" class="Function Operator">_$_</a><a id="419" class="Symbol">)</a>
<a id="421" class="Keyword">open</a> <a id="426" class="Keyword">import</a> <a id="433" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="448" class="Keyword">using</a> <a id="454" class="Symbol">(</a><a id="455" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="459" class="Symbol">;</a> <a id="461" href="Data.List.Base.html#10007" class="InductiveConstructor">[]</a><a id="463" class="Symbol">;</a> <a id="465" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="468" class="Symbol">;</a> <a id="470" href="Data.List.Base.html#1497" class="Function">map</a><a id="473" class="Symbol">;</a> <a id="475" href="Data.List.Base.html#9441" class="Function">reverse</a><a id="482" class="Symbol">)</a>
<a id="484" class="Keyword">open</a> <a id="489" class="Keyword">import</a> <a id="496" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="505" class="Keyword">open</a> <a id="510" class="Keyword">import</a> <a id="517" href="Data.Product.html" class="Module">Data.Product</a> <a id="530" class="Keyword">using</a> <a id="536" class="Symbol">(</a><a id="537" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a><a id="542" class="Symbol">)</a>
<a id="544" class="Keyword">open</a> <a id="549" class="Keyword">import</a> <a id="556" href="Data.String.html" class="Module">Data.String</a> <a id="568" class="Symbol">as</a> <a id="571" class="Module">String</a> <a id="578" class="Keyword">using</a> <a id="584" class="Symbol">(</a><a id="585" href="Agda.Builtin.String.html#274" class="Postulate">String</a><a id="591" class="Symbol">)</a>
<a id="593" class="Keyword">open</a> <a id="598" class="Keyword">import</a> <a id="605" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="632" class="Keyword">using</a> <a id="638" class="Symbol">(</a><a id="639" href="Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a><a id="643" class="Symbol">)</a>

<a id="646" class="Comment">------------------------------------------------------------------------</a>
<a id="719" class="Comment">-- Conversion from unary representation to the representation by the</a>
<a id="788" class="Comment">-- given base.</a>

<a id="toDigitChar"></a><a id="804" href="Data.Nat.Show.html#804" class="Function">toDigitChar</a> <a id="816" class="Symbol">:</a> <a id="818" class="Symbol">(</a><a id="819" href="Data.Nat.Show.html#819" class="Bound">n</a> <a id="821" class="Symbol">:</a> <a id="823" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="824" class="Symbol">)</a> <a id="826" class="Symbol">→</a> <a id="828" href="Agda.Builtin.Char.html#227" class="Postulate">Char</a>
<a id="833" href="Data.Nat.Show.html#804" class="Function">toDigitChar</a> <a id="845" href="Data.Nat.Show.html#845" class="Bound">n</a> <a id="847" class="Symbol">=</a> <a id="849" href="Data.Char.Base.html#1080" class="Primitive">Char.fromℕ</a> <a id="860" class="Symbol">(</a><a id="861" href="Data.Nat.Show.html#845" class="Bound">n</a> <a id="863" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="865" class="Symbol">(</a><a id="866" href="Data.Char.Base.html#1055" class="Primitive">Char.toℕ</a> <a id="875" class="String">&#39;0&#39;</a><a id="878" class="Symbol">))</a>

<a id="toDecimalChars"></a><a id="882" href="Data.Nat.Show.html#882" class="Function">toDecimalChars</a> <a id="897" class="Symbol">:</a> <a id="899" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="901" class="Symbol">→</a> <a id="903" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="908" href="Agda.Builtin.Char.html#227" class="Postulate">Char</a>
<a id="913" href="Data.Nat.Show.html#882" class="Function">toDecimalChars</a> <a id="928" class="Symbol">=</a> <a id="930" href="Data.List.Base.html#1497" class="Function">map</a> <a id="934" href="Data.Nat.Show.html#804" class="Function">toDigitChar</a> <a id="946" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="948" href="Data.Digit.html#1314" class="Function">toNatDigits</a> <a id="960" class="Number">10</a>

<a id="964" class="Comment">------------------------------------------------------------------------</a>
<a id="1037" class="Comment">-- Show</a>

<a id="1046" class="Comment">-- Time complexity is O(log₁₀(n))</a>

<a id="show"></a><a id="1081" href="Data.Nat.Show.html#1081" class="Function">show</a> <a id="1086" class="Symbol">:</a> <a id="1088" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1090" class="Symbol">→</a> <a id="1092" href="Agda.Builtin.String.html#274" class="Postulate">String</a>
<a id="1099" href="Data.Nat.Show.html#1081" class="Function">show</a> <a id="1104" class="Symbol">=</a> <a id="1106" href="Data.String.Base.html#1623" class="Primitive">String.fromList</a> <a id="1122" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1124" href="Data.Nat.Show.html#882" class="Function">toDecimalChars</a>

<a id="1140" class="Comment">-- Warning: when compiled the time complexity of `showInBase b n` is</a>
<a id="1209" class="Comment">-- O(n) instead of the expected O(log(n)).</a>

<a id="charsInBase"></a><a id="1253" href="Data.Nat.Show.html#1253" class="Function">charsInBase</a> <a id="1265" class="Symbol">:</a> <a id="1267" class="Symbol">(</a><a id="1268" href="Data.Nat.Show.html#1268" class="Bound">base</a> <a id="1273" class="Symbol">:</a> <a id="1275" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1276" class="Symbol">)</a>
              <a id="1292" class="Symbol">{</a><a id="1293" href="Data.Nat.Show.html#1293" class="Bound">base≥2</a> <a id="1300" class="Symbol">:</a> <a id="1302" href="Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a> <a id="1307" class="Symbol">(</a><a id="1308" class="Number">2</a> <a id="1310" href="Data.Nat.Properties.html#5335" class="Function Operator">≤?</a> <a id="1313" href="Data.Nat.Show.html#1268" class="Bound">base</a><a id="1317" class="Symbol">)}</a>
              <a id="1334" class="Symbol">{</a><a id="1335" href="Data.Nat.Show.html#1335" class="Bound">base≤16</a> <a id="1343" class="Symbol">:</a> <a id="1345" href="Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a> <a id="1350" class="Symbol">(</a><a id="1351" href="Data.Nat.Show.html#1268" class="Bound">base</a> <a id="1356" href="Data.Nat.Properties.html#5335" class="Function Operator">≤?</a> <a id="1359" class="Number">16</a><a id="1361" class="Symbol">)}</a> <a id="1364" class="Symbol">→</a>
              <a id="1380" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1382" class="Symbol">→</a> <a id="1384" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1389" href="Agda.Builtin.Char.html#227" class="Postulate">Char</a>
<a id="1394" href="Data.Nat.Show.html#1253" class="Function">charsInBase</a> <a id="1406" href="Data.Nat.Show.html#1406" class="Bound">base</a> <a id="1411" class="Symbol">{</a><a id="1412" href="Data.Nat.Show.html#1412" class="Bound">base≥2</a><a id="1418" class="Symbol">}</a> <a id="1420" class="Symbol">{</a><a id="1421" href="Data.Nat.Show.html#1421" class="Bound">base≤16</a><a id="1428" class="Symbol">}</a> <a id="1430" class="Symbol">=</a> <a id="1432" href="Data.List.Base.html#1497" class="Function">map</a> <a id="1436" class="Symbol">(</a><a id="1437" href="Data.Digit.html#3860" class="Function">showDigit</a> <a id="1447" class="Symbol">{</a><a id="1448" class="Argument">base≤16</a> <a id="1456" class="Symbol">=</a> <a id="1458" href="Data.Nat.Show.html#1421" class="Bound">base≤16</a><a id="1465" class="Symbol">})</a>
                                    <a id="1504" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1506" href="Data.List.Base.html#9441" class="Function">reverse</a>
                                    <a id="1550" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1552" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a>
                                    <a id="1594" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1596" href="Data.Digit.html#2454" class="Function">toDigits</a> <a id="1605" href="Data.Nat.Show.html#1406" class="Bound">base</a> <a id="1610" class="Symbol">{</a><a id="1611" class="Argument">base≥2</a> <a id="1618" class="Symbol">=</a> <a id="1620" href="Data.Nat.Show.html#1412" class="Bound">base≥2</a><a id="1626" class="Symbol">}</a>

<a id="showInBase"></a><a id="1629" href="Data.Nat.Show.html#1629" class="Function">showInBase</a> <a id="1640" class="Symbol">:</a> <a id="1642" class="Symbol">(</a><a id="1643" href="Data.Nat.Show.html#1643" class="Bound">base</a> <a id="1648" class="Symbol">:</a> <a id="1650" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="1651" class="Symbol">)</a>
             <a id="1666" class="Symbol">{</a><a id="1667" href="Data.Nat.Show.html#1667" class="Bound">base≥2</a> <a id="1674" class="Symbol">:</a> <a id="1676" href="Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a> <a id="1681" class="Symbol">(</a><a id="1682" class="Number">2</a> <a id="1684" href="Data.Nat.Properties.html#5335" class="Function Operator">≤?</a> <a id="1687" href="Data.Nat.Show.html#1643" class="Bound">base</a><a id="1691" class="Symbol">)}</a>
             <a id="1707" class="Symbol">{</a><a id="1708" href="Data.Nat.Show.html#1708" class="Bound">base≤16</a> <a id="1716" class="Symbol">:</a> <a id="1718" href="Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a> <a id="1723" class="Symbol">(</a><a id="1724" href="Data.Nat.Show.html#1643" class="Bound">base</a> <a id="1729" href="Data.Nat.Properties.html#5335" class="Function Operator">≤?</a> <a id="1732" class="Number">16</a><a id="1734" class="Symbol">)}</a> <a id="1737" class="Symbol">→</a>
             <a id="1752" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1754" class="Symbol">→</a> <a id="1756" href="Agda.Builtin.String.html#274" class="Postulate">String</a>
<a id="1763" href="Data.Nat.Show.html#1629" class="Function">showInBase</a> <a id="1774" href="Data.Nat.Show.html#1774" class="Bound">base</a> <a id="1779" class="Symbol">{</a><a id="1780" href="Data.Nat.Show.html#1780" class="Bound">base≥2</a><a id="1786" class="Symbol">}</a> <a id="1788" class="Symbol">{</a><a id="1789" href="Data.Nat.Show.html#1789" class="Bound">base≤16</a><a id="1796" class="Symbol">}</a> <a id="1798" class="Symbol">=</a> <a id="1800" href="Data.String.Base.html#1623" class="Primitive">String.fromList</a>
                                   <a id="1851" href="Function.Base.html#1031" class="Function Operator">∘</a> <a id="1853" href="Data.Nat.Show.html#1253" class="Function">charsInBase</a> <a id="1865" href="Data.Nat.Show.html#1774" class="Bound">base</a> <a id="1870" class="Symbol">{</a><a id="1871" href="Data.Nat.Show.html#1780" class="Bound">base≥2</a><a id="1877" class="Symbol">}</a> <a id="1879" class="Symbol">{</a><a id="1880" href="Data.Nat.Show.html#1789" class="Bound">base≤16</a><a id="1887" class="Symbol">}</a>
</pre></body></html>