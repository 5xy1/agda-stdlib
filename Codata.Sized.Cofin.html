<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Sized.Cofin</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- &quot;Finite&quot; sets indexed on coinductive &quot;natural&quot; numbers</a>
<a id="164" class="Comment">------------------------------------------------------------------------</a>

<a id="238" class="Symbol">{-#</a> <a id="242" class="Keyword">OPTIONS</a> <a id="250" class="Pragma">--without-K</a> <a id="262" class="Pragma">--sized-types</a> <a id="276" class="Symbol">#-}</a>

<a id="281" class="Keyword">module</a> <a id="288" href="Codata.Sized.Cofin.html" class="Module">Codata.Sized.Cofin</a> <a id="307" class="Keyword">where</a>

<a id="314" class="Keyword">open</a> <a id="319" class="Keyword">import</a> <a id="326" href="Size.html" class="Module">Size</a>
<a id="331" class="Keyword">open</a> <a id="336" class="Keyword">import</a> <a id="343" href="Codata.Sized.Thunk.html" class="Module">Codata.Sized.Thunk</a>
<a id="362" class="Keyword">open</a> <a id="367" class="Keyword">import</a> <a id="374" href="Codata.Sized.Conat.html" class="Module">Codata.Sized.Conat</a> <a id="393" class="Symbol">as</a> <a id="396" class="Module">Conat</a>
  <a id="404" class="Keyword">using</a> <a id="410" class="Symbol">(</a><a id="411" href="Codata.Sized.Conat.html#532" class="Datatype">Conat</a><a id="416" class="Symbol">;</a> <a id="418" href="Codata.Sized.Conat.html#563" class="InductiveConstructor">zero</a><a id="422" class="Symbol">;</a> <a id="424" href="Codata.Sized.Conat.html#580" class="InductiveConstructor">suc</a><a id="427" class="Symbol">;</a> <a id="429" href="Codata.Sized.Conat.html#611" class="Function">infinity</a><a id="437" class="Symbol">;</a> <a id="439" href="Codata.Sized.Conat.html#2375" class="Function Operator">_ℕ&lt;_</a><a id="443" class="Symbol">;</a> <a id="445" href="Codata.Sized.Conat.html#2326" class="InductiveConstructor">sℕ≤s</a><a id="449" class="Symbol">;</a> <a id="451" href="Codata.Sized.Conat.html#2421" class="Function Operator">_ℕ≤infinity</a><a id="462" class="Symbol">)</a>
<a id="464" class="Keyword">open</a> <a id="469" class="Keyword">import</a> <a id="476" href="Codata.Sized.Conat.Bisimilarity.html" class="Module">Codata.Sized.Conat.Bisimilarity</a> <a id="508" class="Symbol">as</a> <a id="511" class="Module">Bisim</a> <a id="517" class="Keyword">using</a> <a id="523" class="Symbol">(</a><a id="524" href="Codata.Sized.Conat.Bisimilarity.html#1291" class="Datatype Operator">_⊢_≲_</a> <a id="530" class="Symbol">;</a> <a id="532" href="Codata.Sized.Conat.Bisimilarity.html#1360" class="InductiveConstructor">s≲s</a><a id="535" class="Symbol">)</a>
<a id="537" class="Keyword">open</a> <a id="542" class="Keyword">import</a> <a id="549" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="563" class="Keyword">open</a> <a id="568" class="Keyword">import</a> <a id="575" href="Data.Fin.Base.html" class="Module">Data.Fin.Base</a> <a id="589" class="Symbol">as</a> <a id="592" class="Module">Fin</a> <a id="596" class="Keyword">hiding</a> <a id="603" class="Symbol">(</a><a id="604" href="Data.Fin.Base.html#1955" class="Function">fromℕ</a><a id="609" class="Symbol">;</a> <a id="611" href="Data.Fin.Base.html#9238" class="Function">fromℕ≤</a><a id="617" class="Symbol">;</a> <a id="619" href="Data.Fin.Base.html#2061" class="Function">fromℕ&lt;</a><a id="625" class="Symbol">;</a> <a id="627" href="Data.Fin.Base.html#1340" class="Function">toℕ</a><a id="630" class="Symbol">)</a>
<a id="632" class="Keyword">open</a> <a id="637" class="Keyword">import</a> <a id="644" href="Function.Base.html" class="Module">Function.Base</a> <a id="658" class="Keyword">using</a> <a id="664" class="Symbol">(</a><a id="665" href="Function.Base.html#4414" class="Function Operator">_∋_</a><a id="668" class="Symbol">)</a>
<a id="670" class="Keyword">open</a> <a id="675" class="Keyword">import</a> <a id="682" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

<a id="721" class="Comment">------------------------------------------------------------------------</a>
<a id="794" class="Comment">-- The type</a>

<a id="807" class="Comment">-- Note that `Cofin infinity` is /not/ finite. Note also that this is</a>
<a id="877" class="Comment">-- not a coinductive type, but it is indexed on a coinductive type.</a>

<a id="946" class="Keyword">data</a> <a id="Cofin"></a><a id="951" href="Codata.Sized.Cofin.html#951" class="Datatype">Cofin</a> <a id="957" class="Symbol">:</a> <a id="959" href="Codata.Sized.Conat.html#532" class="Datatype">Conat</a> <a id="965" href="Agda.Builtin.Size.html#304" class="Postulate">∞</a> <a id="967" class="Symbol">→</a> <a id="969" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="973" class="Keyword">where</a>
  <a id="Cofin.zero"></a><a id="981" href="Codata.Sized.Cofin.html#981" class="InductiveConstructor">zero</a> <a id="986" class="Symbol">:</a> <a id="988" class="Symbol">∀</a> <a id="990" class="Symbol">{</a><a id="991" href="Codata.Sized.Cofin.html#991" class="Bound">n</a><a id="992" class="Symbol">}</a> <a id="994" class="Symbol">→</a> <a id="996" href="Codata.Sized.Cofin.html#951" class="Datatype">Cofin</a> <a id="1002" class="Symbol">(</a><a id="1003" href="Codata.Sized.Conat.html#580" class="InductiveConstructor">suc</a> <a id="1007" href="Codata.Sized.Cofin.html#991" class="Bound">n</a><a id="1008" class="Symbol">)</a>
  <a id="Cofin.suc"></a><a id="1012" href="Codata.Sized.Cofin.html#1012" class="InductiveConstructor">suc</a>  <a id="1017" class="Symbol">:</a> <a id="1019" class="Symbol">∀</a> <a id="1021" class="Symbol">{</a><a id="1022" href="Codata.Sized.Cofin.html#1022" class="Bound">n</a><a id="1023" class="Symbol">}</a> <a id="1025" class="Symbol">→</a> <a id="1027" href="Codata.Sized.Cofin.html#951" class="Datatype">Cofin</a> <a id="1033" class="Symbol">(</a><a id="1034" href="Codata.Sized.Cofin.html#1022" class="Bound">n</a> <a id="1036" class="Symbol">.</a><a id="1037" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="1042" class="Symbol">)</a> <a id="1044" class="Symbol">→</a> <a id="1046" href="Codata.Sized.Cofin.html#951" class="Datatype">Cofin</a> <a id="1052" class="Symbol">(</a><a id="1053" href="Codata.Sized.Conat.html#580" class="InductiveConstructor">suc</a> <a id="1057" href="Codata.Sized.Cofin.html#1022" class="Bound">n</a><a id="1058" class="Symbol">)</a>

<a id="suc-injective"></a><a id="1061" href="Codata.Sized.Cofin.html#1061" class="Function">suc-injective</a> <a id="1075" class="Symbol">:</a> <a id="1077" class="Symbol">∀</a> <a id="1079" class="Symbol">{</a><a id="1080" href="Codata.Sized.Cofin.html#1080" class="Bound">n</a><a id="1081" class="Symbol">}</a> <a id="1083" class="Symbol">{</a><a id="1084" href="Codata.Sized.Cofin.html#1084" class="Bound">p</a> <a id="1086" href="Codata.Sized.Cofin.html#1086" class="Bound">q</a> <a id="1088" class="Symbol">:</a> <a id="1090" href="Codata.Sized.Cofin.html#951" class="Datatype">Cofin</a> <a id="1096" class="Symbol">(</a><a id="1097" href="Codata.Sized.Cofin.html#1080" class="Bound">n</a> <a id="1099" class="Symbol">.</a><a id="1100" href="Codata.Sized.Thunk.html#547" class="Field">force</a><a id="1105" class="Symbol">)}</a> <a id="1108" class="Symbol">→</a>
                <a id="1126" class="Symbol">(</a><a id="1127" href="Codata.Sized.Cofin.html#951" class="Datatype">Cofin</a> <a id="1133" class="Symbol">(</a><a id="1134" class="InductiveConstructor">suc</a> <a id="1138" href="Codata.Sized.Cofin.html#1080" class="Bound">n</a><a id="1139" class="Symbol">)</a> <a id="1141" href="Function.Base.html#4414" class="Function Operator">∋</a> <a id="1143" class="InductiveConstructor">suc</a> <a id="1147" href="Codata.Sized.Cofin.html#1084" class="Bound">p</a><a id="1148" class="Symbol">)</a> <a id="1150" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1152" class="InductiveConstructor">suc</a> <a id="1156" href="Codata.Sized.Cofin.html#1086" class="Bound">q</a> <a id="1158" class="Symbol">→</a> <a id="1160" href="Codata.Sized.Cofin.html#1084" class="Bound">p</a> <a id="1162" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="1164" href="Codata.Sized.Cofin.html#1086" class="Bound">q</a>
<a id="1166" href="Codata.Sized.Cofin.html#1061" class="Function">suc-injective</a> <a id="1180" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="1185" class="Symbol">=</a> <a id="1187" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="1193" class="Comment">------------------------------------------------------------------------</a>
<a id="1266" class="Comment">-- Some operations</a>

<a id="fromℕ&lt;"></a><a id="1286" href="Codata.Sized.Cofin.html#1286" class="Function">fromℕ&lt;</a> <a id="1293" class="Symbol">:</a> <a id="1295" class="Symbol">∀</a> <a id="1297" class="Symbol">{</a><a id="1298" href="Codata.Sized.Cofin.html#1298" class="Bound">n</a> <a id="1300" href="Codata.Sized.Cofin.html#1300" class="Bound">k</a><a id="1301" class="Symbol">}</a> <a id="1303" class="Symbol">→</a> <a id="1305" href="Codata.Sized.Cofin.html#1300" class="Bound">k</a> <a id="1307" href="Codata.Sized.Conat.html#2375" class="Function Operator">ℕ&lt;</a> <a id="1310" href="Codata.Sized.Cofin.html#1298" class="Bound">n</a> <a id="1312" class="Symbol">→</a> <a id="1314" href="Codata.Sized.Cofin.html#951" class="Datatype">Cofin</a> <a id="1320" href="Codata.Sized.Cofin.html#1298" class="Bound">n</a>
<a id="1322" href="Codata.Sized.Cofin.html#1286" class="Function">fromℕ&lt;</a> <a id="1329" class="Symbol">{</a><a id="1330" href="Codata.Sized.Conat.html#563" class="InductiveConstructor">zero</a><a id="1334" class="Symbol">}</a>  <a id="1337" class="Symbol">()</a>
<a id="1340" href="Codata.Sized.Cofin.html#1286" class="Function">fromℕ&lt;</a> <a id="1347" class="Symbol">{</a><a id="1348" href="Codata.Sized.Conat.html#580" class="InductiveConstructor">suc</a> <a id="1352" href="Codata.Sized.Cofin.html#1352" class="Bound">n</a><a id="1353" class="Symbol">}</a> <a id="1355" class="Symbol">{</a><a id="1356" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="1360" class="Symbol">}</a>  <a id="1363" class="Symbol">(</a><a id="1364" href="Codata.Sized.Conat.html#2326" class="InductiveConstructor">sℕ≤s</a> <a id="1369" href="Codata.Sized.Cofin.html#1369" class="Bound">p</a><a id="1370" class="Symbol">)</a> <a id="1372" class="Symbol">=</a> <a id="1374" href="Codata.Sized.Cofin.html#981" class="InductiveConstructor">zero</a>
<a id="1379" href="Codata.Sized.Cofin.html#1286" class="Function">fromℕ&lt;</a> <a id="1386" class="Symbol">{</a><a id="1387" href="Codata.Sized.Conat.html#580" class="InductiveConstructor">suc</a> <a id="1391" href="Codata.Sized.Cofin.html#1391" class="Bound">n</a><a id="1392" class="Symbol">}</a> <a id="1394" class="Symbol">{</a><a id="1395" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1399" href="Codata.Sized.Cofin.html#1399" class="Bound">k</a><a id="1400" class="Symbol">}</a> <a id="1402" class="Symbol">(</a><a id="1403" href="Codata.Sized.Conat.html#2326" class="InductiveConstructor">sℕ≤s</a> <a id="1408" href="Codata.Sized.Cofin.html#1408" class="Bound">p</a><a id="1409" class="Symbol">)</a> <a id="1411" class="Symbol">=</a> <a id="1413" href="Codata.Sized.Cofin.html#1012" class="InductiveConstructor">suc</a> <a id="1417" class="Symbol">(</a><a id="1418" href="Codata.Sized.Cofin.html#1286" class="Function">fromℕ&lt;</a> <a id="1425" href="Codata.Sized.Cofin.html#1408" class="Bound">p</a><a id="1426" class="Symbol">)</a>

<a id="fromℕ"></a><a id="1429" href="Codata.Sized.Cofin.html#1429" class="Function">fromℕ</a> <a id="1435" class="Symbol">:</a> <a id="1437" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1439" class="Symbol">→</a> <a id="1441" href="Codata.Sized.Cofin.html#951" class="Datatype">Cofin</a> <a id="1447" href="Codata.Sized.Conat.html#611" class="Function">infinity</a>
<a id="1456" href="Codata.Sized.Cofin.html#1429" class="Function">fromℕ</a> <a id="1462" href="Codata.Sized.Cofin.html#1462" class="Bound">k</a> <a id="1464" class="Symbol">=</a> <a id="1466" href="Codata.Sized.Cofin.html#1286" class="Function">fromℕ&lt;</a> <a id="1473" class="Symbol">(</a><a id="1474" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1478" href="Codata.Sized.Cofin.html#1462" class="Bound">k</a> <a id="1480" href="Codata.Sized.Conat.html#2421" class="Function Operator">ℕ≤infinity</a><a id="1490" class="Symbol">)</a>

<a id="toℕ"></a><a id="1493" href="Codata.Sized.Cofin.html#1493" class="Function">toℕ</a> <a id="1497" class="Symbol">:</a> <a id="1499" class="Symbol">∀</a> <a id="1501" class="Symbol">{</a><a id="1502" href="Codata.Sized.Cofin.html#1502" class="Bound">n</a><a id="1503" class="Symbol">}</a> <a id="1505" class="Symbol">→</a> <a id="1507" href="Codata.Sized.Cofin.html#951" class="Datatype">Cofin</a> <a id="1513" href="Codata.Sized.Cofin.html#1502" class="Bound">n</a> <a id="1515" class="Symbol">→</a> <a id="1517" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="1519" href="Codata.Sized.Cofin.html#1493" class="Function">toℕ</a> <a id="1523" href="Codata.Sized.Cofin.html#981" class="InductiveConstructor">zero</a>    <a id="1531" class="Symbol">=</a> <a id="1533" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>
<a id="1538" href="Codata.Sized.Cofin.html#1493" class="Function">toℕ</a> <a id="1542" class="Symbol">(</a><a id="1543" href="Codata.Sized.Cofin.html#1012" class="InductiveConstructor">suc</a> <a id="1547" href="Codata.Sized.Cofin.html#1547" class="Bound">i</a><a id="1548" class="Symbol">)</a> <a id="1550" class="Symbol">=</a> <a id="1552" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1556" class="Symbol">(</a><a id="1557" href="Codata.Sized.Cofin.html#1493" class="Function">toℕ</a> <a id="1561" href="Codata.Sized.Cofin.html#1547" class="Bound">i</a><a id="1562" class="Symbol">)</a>

<a id="fromFin"></a><a id="1565" href="Codata.Sized.Cofin.html#1565" class="Function">fromFin</a> <a id="1573" class="Symbol">:</a> <a id="1575" class="Symbol">∀</a> <a id="1577" class="Symbol">{</a><a id="1578" href="Codata.Sized.Cofin.html#1578" class="Bound">n</a><a id="1579" class="Symbol">}</a> <a id="1581" class="Symbol">→</a> <a id="1583" href="Data.Fin.Base.html#1214" class="Datatype">Fin</a> <a id="1587" href="Codata.Sized.Cofin.html#1578" class="Bound">n</a> <a id="1589" class="Symbol">→</a> <a id="1591" href="Codata.Sized.Cofin.html#951" class="Datatype">Cofin</a> <a id="1597" class="Symbol">(</a><a id="1598" href="Codata.Sized.Conat.html#680" class="Function">Conat.fromℕ</a> <a id="1610" href="Codata.Sized.Cofin.html#1578" class="Bound">n</a><a id="1611" class="Symbol">)</a>
<a id="1613" href="Codata.Sized.Cofin.html#1565" class="Function">fromFin</a> <a id="1621" href="Data.Fin.Base.html#1236" class="InductiveConstructor">zero</a>    <a id="1629" class="Symbol">=</a> <a id="1631" href="Codata.Sized.Cofin.html#981" class="InductiveConstructor">zero</a>
<a id="1636" href="Codata.Sized.Cofin.html#1565" class="Function">fromFin</a> <a id="1644" class="Symbol">(</a><a id="1645" href="Data.Fin.Base.html#1267" class="InductiveConstructor">suc</a> <a id="1649" href="Codata.Sized.Cofin.html#1649" class="Bound">i</a><a id="1650" class="Symbol">)</a> <a id="1652" class="Symbol">=</a> <a id="1654" href="Codata.Sized.Cofin.html#1012" class="InductiveConstructor">suc</a> <a id="1658" class="Symbol">(</a><a id="1659" href="Codata.Sized.Cofin.html#1565" class="Function">fromFin</a> <a id="1667" href="Codata.Sized.Cofin.html#1649" class="Bound">i</a><a id="1668" class="Symbol">)</a>

<a id="toFin"></a><a id="1671" href="Codata.Sized.Cofin.html#1671" class="Function">toFin</a> <a id="1677" class="Symbol">:</a> <a id="1679" class="Symbol">∀</a> <a id="1681" href="Codata.Sized.Cofin.html#1681" class="Bound">n</a> <a id="1683" class="Symbol">→</a> <a id="1685" href="Codata.Sized.Cofin.html#951" class="Datatype">Cofin</a> <a id="1691" class="Symbol">(</a><a id="1692" href="Codata.Sized.Conat.html#680" class="Function">Conat.fromℕ</a> <a id="1704" href="Codata.Sized.Cofin.html#1681" class="Bound">n</a><a id="1705" class="Symbol">)</a> <a id="1707" class="Symbol">→</a> <a id="1709" href="Data.Fin.Base.html#1214" class="Datatype">Fin</a> <a id="1713" href="Codata.Sized.Cofin.html#1681" class="Bound">n</a>
<a id="1715" href="Codata.Sized.Cofin.html#1671" class="Function">toFin</a> <a id="1721" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>    <a id="1729" class="Symbol">()</a>
<a id="1732" href="Codata.Sized.Cofin.html#1671" class="Function">toFin</a> <a id="1738" class="Symbol">(</a><a id="1739" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1743" href="Codata.Sized.Cofin.html#1743" class="Bound">n</a><a id="1744" class="Symbol">)</a> <a id="1746" href="Codata.Sized.Cofin.html#981" class="InductiveConstructor">zero</a>    <a id="1754" class="Symbol">=</a> <a id="1756" href="Data.Fin.Base.html#1236" class="InductiveConstructor">zero</a>
<a id="1761" href="Codata.Sized.Cofin.html#1671" class="Function">toFin</a> <a id="1767" class="Symbol">(</a><a id="1768" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1772" href="Codata.Sized.Cofin.html#1772" class="Bound">n</a><a id="1773" class="Symbol">)</a> <a id="1775" class="Symbol">(</a><a id="1776" href="Codata.Sized.Cofin.html#1012" class="InductiveConstructor">suc</a> <a id="1780" href="Codata.Sized.Cofin.html#1780" class="Bound">i</a><a id="1781" class="Symbol">)</a> <a id="1783" class="Symbol">=</a> <a id="1785" href="Data.Fin.Base.html#1267" class="InductiveConstructor">suc</a> <a id="1789" class="Symbol">(</a><a id="1790" href="Codata.Sized.Cofin.html#1671" class="Function">toFin</a> <a id="1796" href="Codata.Sized.Cofin.html#1772" class="Bound">n</a> <a id="1798" href="Codata.Sized.Cofin.html#1780" class="Bound">i</a><a id="1799" class="Symbol">)</a>
</pre></body></html>